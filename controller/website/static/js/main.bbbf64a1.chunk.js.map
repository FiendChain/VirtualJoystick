{"version":3,"sources":["AppContext.js","JoyStick.jsx","Fullscreen.js","Controller.js","Gyroscope.js","App.js","serviceWorker.js","index.js"],"names":["AppContext","React","createContext","AppProvider","Provider","JoyStick","xg","yg","pwidth","pheight","snap","ctl","useContext","options","mode","color","position","top","left","style","outline","width","height","onMove","ev","data","radian","angle","force","x","Math","cos","y","sin","nx","min","ny","on_axis","onEnd","elem","document","documentElement","toggleFullscreen","fullscreenElement","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","msExitFullscreen","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","Controller","this","ws","url","location","hostname","WebSocket","binaryType","onopen","send","Uint8Array","p","readyState","OPEN","CLOSED","console","log","connect","v","group","Float32Array","buffer","id","Gyroscope","props","state","enabled","window","addEventListener","handle_orientation","setState","beta","gamma","clip","context","max","className","onClick","toggle","marginLeft","Component","Slider","axis","text","default_value","step","useState","value","set_value","_snap","set_snap","reset","on_release","type","onChange","target","onMouseUp","onTouchEnd","Button","pressed","set_pressed","press","on_button_press","release","on_button_release","onMouseDown","onTouchStart","margin","contextType","App","textAlign","marginTop","float","Boolean","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"0PAEMA,EAAaC,IAAMC,gBAEZC,EAAcH,EAAWI,SACvBJ,I,+BCCR,SAASK,EAAT,GAAiE,IAA9CC,EAA6C,EAA7CA,GAAIC,EAAyC,EAAzCA,GAAyC,IAArCC,cAAqC,MAA9B,IAA8B,MAAzBC,eAAyB,MAAjB,IAAiB,MAAZC,YAAY,SACjEC,EAAMC,qBAAWZ,GAuBrB,OACE,6BACE,kBAAC,IAAD,CAGIa,QAAS,CAAEC,KAAM,SAAUC,MAAO,QAASC,SAAU,CAAEC,IAAK,MAAOC,KAAM,QAEzEC,MAAO,CACHC,QAAQ,mBACRC,MAAOb,EACPc,OAAQb,GAKZc,OApCR,SAAiBC,EAAIC,GACnB,IAAIC,EAASD,EAAKE,MAAMD,OACpBE,EAAQH,EAAKG,MAEbC,EAAIC,KAAKC,IAAIL,GAAQE,EACrBI,EAAIF,KAAKG,IAAIP,GAAQE,EAErBM,EAAKJ,KAAKK,IAAIN,EAAE,EAAI,GAAK,GACzBO,EAAKN,KAAKK,KAAKH,EAAE,EAAI,GAAK,GAE9BrB,EAAI0B,QAAQH,EAAI5B,GAChBK,EAAI0B,QAAQD,EAAI7B,IA0BV+B,MAvBR,WACM5B,IACFC,EAAI0B,QAAQ,GAAK/B,GACjBK,EAAI0B,QAAQ,GAAK9B,QC1BvB,IAAIgC,EAAOC,SAASC,gBA4Bb,SAASC,IACTF,SAASG,kBAEHH,SAASI,iBAdhBJ,SAASI,eACXJ,SAASI,iBACAJ,SAASK,oBAClBL,SAASK,sBACAL,SAASM,qBAClBN,SAASM,uBACAN,SAASO,kBAClBP,SAASO,oBApBPR,EAAKS,kBACPT,EAAKS,oBACIT,EAAKU,qBACdV,EAAKU,uBACIV,EAAKW,wBACdX,EAAKW,0BACIX,EAAKY,qBACdZ,EAAKY,sB,yBCXIC,EAAb,WACE,aAAe,oBACbC,KAAKC,GAAK,KAFd,oDAKUC,GAAM,IAAD,OACNA,IACHA,EAAG,eAAWf,SAASgB,SAASC,SAA7B,UAELJ,KAAKC,GAAK,IAAII,UAAUH,GACxBF,KAAKC,GAAGK,WAAa,cACrBN,KAAKC,GAAGM,OAAS,WACf,EAAKC,KAAK,IAAIC,WAAW,CAAC,UAZhC,2BAgBOC,GACEV,KAAKC,KAGND,KAAKC,GAAGU,aAAeX,KAAKC,GAAGW,MACjCZ,KAAKC,GAAGO,KAAKE,GAEXV,KAAKC,GAAGU,YAAcX,KAAKC,GAAGY,SAChCC,QAAQC,IAAI,6BACZf,KAAKgB,cAzBX,8BA6BUC,EAAGC,GACT,IAAIR,EAAI,IAAID,WAAW,IAAIU,aAAa,CAACF,IAAIG,QAWzCC,EAVc,CAChB,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,GAAM,IACN,IAAO,IACP,IAAO,KAEUH,GACnBlB,KAAKQ,KAAK,IAAIC,WAAJ,CAAgBY,GAAhB,mBAAuBX,QA1CrC,sCA6CkBW,GACdrB,KAAKQ,KAAK,IAAIC,WAAW,CAAC,IAAW,IAALY,OA9CpC,wCAiDoBA,GAChBrB,KAAKQ,KAAK,IAAIC,WAAW,CAAC,IAAW,IAALY,SAlDpC,K,uBCIaC,G,MAAb,kDAGI,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IACDC,MAAQ,CAACC,SAAS,EAAMjD,EAAG,KAAMG,EAAG,MAF1B,EAHvB,gEAQyB,IAAD,OAChB+C,OAAOC,iBACJ,qBACA,SAAAxD,GAAE,OAAI,EAAKyD,mBAAmBzD,QAXzC,yCAcuBA,GAGf,GAFA6B,KAAK6B,SAAL,eAAkB7B,KAAKwB,MAAvB,CAA8BhD,EAAG,EAAGG,EAAG,KAElCqB,KAAKwB,MAAMC,QAAhB,CAIA,IAAIjD,EAAIL,EAAG2D,KACPnD,EAAIR,EAAG4D,MAEX,GAAS,MAALvD,GAAkB,MAALG,EAAjB,CAQAH,IAHAA,EAAIwB,KAAKgC,KAAKxD,GAAI,GAAI,KAGb,IAAM,IACfG,IAHAA,EAAIqB,KAAKgC,KAAKrD,GAAI,GAAI,KAGb,IAAM,IAEf,IAAIrB,EAAM0C,KAAKiC,QACXvB,EAAI,IAAID,WAAW,IAAIU,aAAa,CAAC3C,EAAGG,IAAIyC,QAChD9D,EAAIkD,KAAK,IAAIC,WAAJ,CAAgB,KAAhB,mBAAyBC,MAIlCV,KAAK6B,SAAL,eAAkB7B,KAAKwB,MAAvB,CAA8BhD,IAAGG,YAhB7BqB,KAAK6B,SAAL,eAAkB7B,KAAKwB,MAAvB,CAA8BhD,IAAGG,UAzB7C,2BA4CSsC,EAAGnC,EAAKoD,GACT,OAAOzD,KAAKK,IAAIL,KAAKyD,IAAIjB,EAAGnC,GAAMoD,KA7C1C,+BAiDQlC,KAAK6B,SAAS,CAACJ,SAAUzB,KAAKwB,MAAMC,YAjD5C,+BAoDc,IAAD,OACL,OAAO,6BACH,4BACAU,UAAWnC,KAAKwB,MAAMC,QAAU,eAAiB,GACjDW,QAAS,kBAAM,EAAKC,WAFpB,QAIA,2BAAOvE,MAAO,CAACwE,WAAY,QAA3B,MAAuCtC,KAAKwB,MAAMhD,GAAK,IAAvD,QAAiEwB,KAAKwB,MAAM7C,GAAK,UA1D7F,GAA+B4D,cC0E/B,SAASC,EAAT,GAAqE,IAApDC,EAAmD,EAAnDA,KAAMC,EAA6C,EAA7CA,KAA6C,IAAvCC,qBAAuC,MAAzB,GAAyB,MAArBtF,YAAqB,aAAVuF,YAAU,MAAL,GAAK,EAC5DtF,EAAMC,qBAAWZ,GAD2C,EAEvCkG,mBAASF,GAF8B,mBAE3DG,EAF2D,KAEpDC,EAFoD,OAGxCF,mBAASxF,GAH+B,mBAG3D2F,EAH2D,KAGpDC,EAHoD,KAWlE,SAASC,IACP5F,EAAI0B,QAAQ2D,EAAc,IAAKF,GAC/BM,EAAUJ,GAGZ,SAASQ,IACHH,GACFE,IAaJ,OACE,yBAAKf,UAAU,SACb,2BAAOA,UAAU,OAAOiB,KAAK,QAAQN,MAAOA,EAAOZ,IAAK,IAAKpD,IAAK,EAAG8D,KAAMA,EACpES,SA7BX,SAAmBlF,GACjB,IAAI8C,EAAI9C,EAAGmF,OAAOR,MAAM,IACxBxF,EAAI0B,QAAQiC,EAAGwB,GACfM,EAAU5E,EAAGmF,OAAOR,QA2BXS,UAAWJ,EACXK,WAAYL,IAEnB,4BAAQhB,UAAWa,EAAQ,iBAAmB,GAC5CZ,QAjBN,WACMY,EACFC,GAAS,IAETA,GAAS,GACTC,OAaER,IAIR,SAASe,EAAT,GAA6B,IAAZpC,EAAW,EAAXA,GAAIqB,EAAO,EAAPA,KAAO,EACGG,oBAAS,GADZ,mBACrBa,EADqB,KACZC,EADY,KAGpBrG,EAAMC,qBAAWZ,GAEvB,SAASiH,IACPD,GAAY,GACZrG,EAAIuG,gBAAgBxC,GAGtB,SAASyC,IACPH,GAAY,GACZrG,EAAIyG,kBAAkB1C,GAGxB,OACE,4BAAQc,UAAWuB,EAAU,cAAgB,GAC3CM,YAAaJ,EAAOL,UAAWO,EAC/BG,aAAcL,EAAOJ,WAAYM,EACjChG,MAAO,CAACoG,OAAQ,QAChBxB,GD1IOpB,EACF6C,YAAcxH,EC8IVyH,MA3If,WACE,IAAI9G,EAAM,IAAIyC,EAGd,OAFAzC,EAAI0D,UAGF,kBAAClE,EAAD,CAAagG,MAAOxF,GAElB,yBAAK6E,UAAU,sBACb,yBAAKA,UAAU,cACb,kBAACnF,EAAD,CAAUC,GAAG,IAAIC,GAAG,IAAIC,OAAQ,IAAKC,QAAS,MAC9C,kBAACoF,EAAD,CAAQC,KAAK,MAAMC,KAAK,WAAWrF,MAAM,EAAOuF,KAAM,EAAGD,cAAe,IACxE,6BACE,kBAACc,EAAD,CAAQpC,GAAI,GAAIqB,KAAK,UACrB,kBAACe,EAAD,CAAQpC,GAAI,GAAIqB,KAAK,aAEvB,kBAAC,EAAD,OAEF,yBAAKP,UAAU,aACb,kBAACnF,EAAD,CAAUC,GAAG,KAAKC,GAAG,KAAKC,OAAQ,IAAKC,QAAS,IAAKC,MAAM,IAC3D,6BACE,kBAACoG,EAAD,CAAQpC,GAAI,GAAIqB,KAAK,iBACrB,kBAACe,EAAD,CAAQpC,GAAI,GAAIqB,KAAK,eACrB,kBAACe,EAAD,CAAQpC,GAAI,GAAIqB,KAAK,SACrB,kBAACe,EAAD,CAAQpC,GAAI,GAAIqB,KAAK,QACrB,kBAACe,EAAD,CAAQpC,GAAI,GAAIqB,KAAK,QACrB,kBAACe,EAAD,CAAQpC,GAAI,GAAIqB,KAAK,UACrB,6BACE,+BAAO,+CACP,kBAACe,EAAD,CAAQpC,GAAI,GAAIqB,KAAK,SACrB,kBAACe,EAAD,CAAQpC,GAAI,GAAIqB,KAAK,YAI3B,yBAAKP,UAAU,eACb,kBAACK,EAAD,CAAQC,KAAK,IAAIC,KAAK,SAASE,KAAM,IACrC,kBAACJ,EAAD,CAAQC,KAAK,KAAKC,KAAK,QAAQrF,MAAM,EAAOuF,KAAM,IAClD,yBAAK9E,MAAO,CAACuG,UAAW,WACtB,kBAACZ,EAAD,CAAQpC,GAAI,GAAIqB,KAAK,aACrB,kBAACe,EAAD,CAAQpC,GAAI,EAAGqB,KAAK,gBAEtB,yBAAK5E,MAAO,CAACuG,UAAW,WACtB,kBAACZ,EAAD,CAAQpC,GAAI,EAAGqB,KAAK,SACpB,kBAACe,EAAD,CAAQpC,GAAI,EAAGqB,KAAK,WACpB,kBAACe,EAAD,CAAQpC,GAAI,EAAGqB,KAAK,aAEtB,kBAACF,EAAD,CAAQC,KAAK,MAAMC,KAAK,MAAMrF,MAAM,EAAOuF,KAAM,IAEjD,yBAAK9E,MAAO,CAACuG,UAAW,WACtB,kBAACZ,EAAD,CAAQpC,GAAI,EAAGqB,KAAK,MACpB,6BACE,kBAACe,EAAD,CAAQpC,GAAI,EAAGqB,KAAK,MACpB,kBAACe,EAAD,CAAQpC,GAAI,EAAGqB,KAAK,OAEtB,kBAACe,EAAD,CAAQpC,GAAI,EAAGqB,KAAK,OAEtB,yBAAK5E,MAAO,CAACuG,UAAW,WACtB,kBAACZ,EAAD,CAAQpC,GAAI,GAAIqB,KAAK,WACrB,kBAACe,EAAD,CAAQpC,GAAI,GAAIqB,KAAK,UACrB,kBAACe,EAAD,CAAQpC,GAAI,GAAIqB,KAAK,cAGvB,yBAAK5E,MAAO,CAACwG,UAAW,OAAQC,MAAO,UACrC,4BAAQnC,QAAS/C,GAAkB,2CC1D3BmF,QACW,cAA7B9C,OAAOvB,SAASC,UAEe,UAA7BsB,OAAOvB,SAASC,UAEhBsB,OAAOvB,SAASC,SAASqE,MACvB,2DCZNC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFzF,SAAS0F,eAAe,SDyHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACLvE,QAAQuE,MAAMA,EAAMC,c","file":"static/js/main.bbbf64a1.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst AppContext = React.createContext();\r\n\r\nexport const AppProvider = AppContext.Provider;\r\nexport default AppContext;","import React, { useContext } from 'react';\r\nimport ReactNipple from 'react-nipple';\r\nimport AppContext from './AppContext';\r\n\r\nimport 'react-nipple/lib/styles.css';\r\n\r\nexport function JoyStick({xg, yg, pwidth=150, pheight=150, snap=true}) {\r\n  let ctl = useContext(AppContext);\r\n\r\n  function on_move(ev, data) {\r\n    let radian = data.angle.radian;\r\n    let force = data.force;\r\n\r\n    let x = Math.cos(radian)*force;\r\n    let y = Math.sin(radian)*force;\r\n\r\n    let nx = Math.min(x/3 + 0.5, 1.0);\r\n    let ny = Math.min(-y/3 + 0.5, 1.0);\r\n\r\n    ctl.on_axis(nx, xg);\r\n    ctl.on_axis(ny, yg);\r\n  }\r\n\r\n  function on_end() {\r\n    if (snap) {\r\n      ctl.on_axis(0.5, xg);\r\n      ctl.on_axis(0.5, yg);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <ReactNipple\r\n          // supports all nipplejs options\r\n          // see https://github.com/yoannmoinet/nipplejs#options\r\n          options={{ mode: 'static', color: \"green\", position: { top: '50%', left: '50%' } }}\r\n          // any unknown props will be passed to the container element, e.g. 'title', 'style' etc\r\n          style={{\r\n              outline: `1px dashed green`,\r\n              width: pwidth,\r\n              height: pheight,\r\n              // if you pass position: 'relative', you don't need to import the stylesheet\r\n          }}\r\n          // all events supported by nipplejs are available as callbacks\r\n          // see https://github.com/yoannmoinet/nipplejs#start\r\n          onMove={on_move}\r\n          onEnd={on_end}\r\n      />\r\n    </div>\r\n  )\r\n}","var elem = document.documentElement;\r\n\r\n/* View in fullscreen */\r\nexport function openFullscreen() {\r\n  if (elem.requestFullscreen) {\r\n    elem.requestFullscreen();\r\n  } else if (elem.mozRequestFullScreen) { /* Firefox */\r\n    elem.mozRequestFullScreen();\r\n  } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari and Opera */\r\n    elem.webkitRequestFullscreen();\r\n  } else if (elem.msRequestFullscreen) { /* IE/Edge */\r\n    elem.msRequestFullscreen();\r\n  }\r\n}\r\n\r\n/* Close fullscreen */\r\nexport function closeFullscreen() {\r\n  if (document.exitFullscreen) {\r\n    document.exitFullscreen();\r\n  } else if (document.mozCancelFullScreen) { /* Firefox */\r\n    document.mozCancelFullScreen();\r\n  } else if (document.webkitExitFullscreen) { /* Chrome, Safari and Opera */\r\n    document.webkitExitFullscreen();\r\n  } else if (document.msExitFullscreen) { /* IE/Edge */\r\n    document.msExitFullscreen();\r\n  }\r\n}\r\n\r\nexport function toggleFullscreen() {\r\n  if (!document.fullscreenElement) {\r\n    openFullscreen();\r\n  } else if (document.exitFullscreen) {\r\n    closeFullscreen();\r\n  }\r\n}","export class Controller {\r\n  constructor() {\r\n    this.ws = null;\r\n  }\r\n\r\n  connect(url) {\r\n    if (!url) {\r\n      url = `ws://${document.location.hostname}:8765`;\r\n    }\r\n    this.ws = new WebSocket(url);\r\n    this.ws.binaryType = 'arraybuffer';\r\n    this.ws.onopen = () => {\r\n      this.send(new Uint8Array([0xFF]));\r\n    }\r\n  }\r\n\r\n  send(p) {\r\n    if (!this.ws) {\r\n      return;\r\n    }\r\n    if (this.ws.readyState === this.ws.OPEN) {\r\n      this.ws.send(p);\r\n    }  \r\n    if (this.ws.readyState == this.ws.CLOSED) {\r\n      console.log(\"Reconnecting to websocket\");\r\n      this.connect();\r\n    }\r\n  }\r\n\r\n  on_axis(v, group) {\r\n    let p = new Uint8Array(new Float32Array([v]).buffer);\r\n    const group_ids = {\r\n      'x': 0x83,\r\n      'y': 0x84,\r\n      'z': 0x85,\r\n      'rx': 0x86,\r\n      'ry': 0x87,\r\n      'rz': 0x88,\r\n      'sl0': 0x89,\r\n      'sl1': 0x90,\r\n    };\r\n    let id = group_ids[group];\r\n    this.send(new Uint8Array([id, ...p]));\r\n  }\r\n\r\n  on_button_press(id) { \r\n    this.send(new Uint8Array([0x81, id & 0xff])) \r\n  }\r\n\r\n  on_button_release(id) {\r\n    this.send(new Uint8Array([0x82, id & 0xff])) \r\n  }\r\n}","import React, { Component } from 'react';\r\nimport AppContext from './AppContext'\r\nimport \"./Gyroscope.css\";\r\n\r\nexport class Gyroscope extends Component {\r\n    static contextType = AppContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {enabled: true, x: null, y: null};\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener(\r\n           \"deviceorientation\", \r\n           ev => this.handle_orientation(ev));\r\n    }\r\n\r\n    handle_orientation(ev) {\r\n        this.setState({...this.state, x: 0, y: 0});\r\n\r\n        if (!this.state.enabled) {\r\n            return;\r\n        }\r\n\r\n        let x = ev.beta;  // [-180, 180]\r\n        let y = ev.gamma; // [-90, 90]\r\n\r\n        if (x == null || y == null) {\r\n            this.setState({...this.state, x, y});\r\n            return;\r\n        }\r\n\r\n        x = this.clip(x, -90, 90);\r\n        y = this.clip(y, -90, 90);\r\n\r\n        x = (x + 90) / 180;\r\n        y = (y + 90) / 180;\r\n\r\n        let ctl = this.context;\r\n        let p = new Uint8Array(new Float32Array([x, y]).buffer);\r\n        ctl.send(new Uint8Array([0xaf, ...p]));\r\n        // ctl.on_axis(x, 'x');\r\n        // ctl.on_axis(y, 'y');\r\n\r\n        this.setState({...this.state, x, y});\r\n    }\r\n\r\n    clip(v, min, max) {\r\n        return Math.min(Math.max(v, min), max);\r\n    }\r\n\r\n    toggle() {\r\n        this.setState({enabled: !this.state.enabled});\r\n    }\r\n\r\n    render() {\r\n        return <div>\r\n            <button \r\n            className={this.state.enabled ? \"gyro-enabled\" : \"\"} \r\n            onClick={() => this.toggle()}>Gyro</button>\r\n\r\n            <label style={{marginLeft: '2px'}}>x: {this.state.x || '?'}, y: {this.state.y || '?'}</label>\r\n\r\n            </div>;\r\n    }\r\n}","import React, { useContext, useState, useEffect } from 'react';\r\nimport AppContext, { AppProvider } from './AppContext';\r\nimport './App.css';\r\nimport { JoyStick } from './JoyStick';\r\nimport { toggleFullscreen } from './Fullscreen';\r\nimport { Controller } from \"./Controller\";\r\nimport { Gyroscope } from './Gyroscope';\r\n\r\nfunction App() {\r\n  let ctl = new Controller();\r\n  ctl.connect();\r\n\r\n  return (\r\n    <AppProvider value={ctl}>\r\n      {/* <div className=\"container noselect\" onTouchStart={preventDoubleTapZoom}> */}\r\n      <div className=\"container noselect\">\r\n        <div className=\"left-panel\">\r\n          <JoyStick xg='x' yg='y' pwidth={250} pheight={250}></JoyStick>\r\n          <Slider axis='sl0' text='spoilers' snap={false} step={1} default_value={0}></Slider>\r\n          <div>\r\n            <Button id={22} text=\"PT Up\"></Button>\r\n            <Button id={23} text=\"PT Down\"></Button>\r\n          </div>\r\n          <Gyroscope></Gyroscope>\r\n        </div>\r\n        <div className=\"mid-panel\">\r\n          <JoyStick xg='rx' yg='ry' pwidth={250} pheight={250} snap={true}></JoyStick>\r\n          <div>\r\n            <Button id={15} text=\"Reset Camera\"></Button>\r\n            <Button id={16} text=\"Ext Camera\"></Button>\r\n            <Button id={13} text=\"Menu\"></Button>\r\n            <Button id={14} text=\"Alt\"></Button>\r\n            <Button id={17} text=\"Map\"></Button>\r\n            <Button id={18} text=\"Drone\"></Button>\r\n            <div>\r\n              <label><small>Instruments</small></label>\r\n              <Button id={19} text=\"Prev\"></Button>\r\n              <Button id={20} text=\"Next\"></Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"right-panel\">\r\n          <Slider axis='z' text='rudder' step={1}></Slider>\r\n          <Slider axis='rz' text='flaps' snap={false} step={1}></Slider>\r\n          <div style={{textAlign: 'center'}}>\r\n            <Button id={12} text=\"Flaps Up\"></Button>\r\n            <Button id={2} text=\"Flaps Down\"></Button>\r\n          </div>\r\n          <div style={{textAlign: 'center'}}>\r\n            <Button id={3} text=\"Gear\"></Button>\r\n            <Button id={4} text=\"Brakes\"></Button>\r\n            <Button id={5} text=\"PBrakes\"></Button>\r\n          </div>\r\n          <Slider axis='sl1' text='eng' snap={false} step={1}></Slider>\r\n\r\n          <div style={{textAlign: 'center'}}>\r\n            <Button id={6} text=\"Y\"></Button>\r\n            <div>\r\n              <Button id={7} text=\"X\"></Button>\r\n              <Button id={8} text=\"B\"></Button>\r\n            </div>\r\n            <Button id={9} text=\"A\"></Button>\r\n          </div>\r\n          <div style={{textAlign: 'center'}}>\r\n            <Button id={10} text=\"Select\"></Button>\r\n            <Button id={11} text=\"Start\"></Button>\r\n            <Button id={21} text=\"AI Pilot\"></Button>\r\n          </div>\r\n\r\n          <div style={{marginTop: \"10px\", float: 'right'}}>\r\n            <button onClick={toggleFullscreen}><b>⛶</b></button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </AppProvider>\r\n  );\r\n}\r\n\r\nfunction Slider({axis, text, default_value=50, snap=true, step=10}) {\r\n  const ctl = useContext(AppContext);\r\n  const [value, set_value] = useState(default_value);\r\n  const [_snap, set_snap] = useState(snap);\r\n\r\n  function on_change(ev) {\r\n    let v = ev.target.value/100;\r\n    ctl.on_axis(v, axis);\r\n    set_value(ev.target.value);\r\n  }\r\n\r\n  function reset() {\r\n    ctl.on_axis(default_value/100, axis);\r\n    set_value(default_value);\r\n  }\r\n  \r\n  function on_release() {\r\n    if (_snap) {\r\n      reset();\r\n    }\r\n  }\r\n\r\n  function toggle_snap() {\r\n    if (_snap) {\r\n      set_snap(false);\r\n    } else {\r\n      set_snap(true);\r\n      reset();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"w-100\">\r\n      <input className=\"w-75\" type='range' value={value} max={100} min={0} step={step} \r\n             onChange={on_change}\r\n             onMouseUp={on_release}\r\n             onTouchEnd={on_release}>\r\n      </input>\r\n      <button className={_snap ? \"snapped-slider\" : \"\"} \r\n        onClick={toggle_snap}\r\n      >{text}</button>\r\n    </div>);\r\n}\r\n\r\nfunction Button({id, text}) {\r\n  let [pressed, set_pressed] = useState(false);\r\n\r\n  const ctl = useContext(AppContext);\r\n\r\n  function press() {\r\n    set_pressed(true);\r\n    ctl.on_button_press(id);\r\n  }\r\n\r\n  function release() {\r\n    set_pressed(false);\r\n    ctl.on_button_release(id);\r\n  }\r\n\r\n  return (\r\n    <button className={pressed ? \"pressed-btn\" : \"\"}\r\n      onMouseDown={press} onMouseUp={release}\r\n      onTouchStart={press} onTouchEnd={release}\r\n      style={{margin: '5px'}}\r\n    >{text}\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}